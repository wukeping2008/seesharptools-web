# ğŸš€ SeeSharpTools-Web AI æ™ºèƒ½åŒ–æµ‹è¯•å¹³å°å¼€å‘è®¡åˆ’

> **é¡¹ç›®æ„¿æ™¯**: å°† SeeSharpTools-Web å‡çº§ä¸ºå…¨çƒé¦–ä¸ªæ”¯æŒè‡ªç„¶è¯­è¨€ç¼–ç¨‹çš„æ™ºèƒ½åŒ–æµ‹è¯•æµ‹é‡å¹³å°

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0  
**åˆ›å»ºæ—¥æœŸ**: 2025å¹´8æœˆ1æ—¥  
**æœ€åæ›´æ–°**: 2025å¹´8æœˆ1æ—¥  
**è´Ÿè´£å›¢é˜Ÿ**: SeeSharpTools å¼€å‘å›¢é˜Ÿ  

---

## ğŸ“‹ ç›®å½•

1. [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
2. [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
3. [å¼€å‘è®¡åˆ’](#å¼€å‘è®¡åˆ’)
4. [å®æ–½æŒ‡å—](#å®æ–½æŒ‡å—)
5. [è´¨é‡ä¿è¯](#è´¨é‡ä¿è¯)
6. [è¿ç»´æ”¯æŒ](#è¿ç»´æ”¯æŒ)
7. [å›¢é˜Ÿåä½œ](#å›¢é˜Ÿåä½œ)
8. [é£é™©ç®¡æ§](#é£é™©ç®¡æ§)
9. [é¡¹ç›®é‡Œç¨‹ç¢‘](#é¡¹ç›®é‡Œç¨‹ç¢‘)

---

## ğŸ“– é¡¹ç›®æ¦‚è¿°

### ğŸ¯ æ ¸å¿ƒæ„¿æ™¯
æ‰“é€ ä¸€ä¸ªé©å‘½æ€§çš„æ™ºèƒ½åŒ–æµ‹è¯•æµ‹é‡å¹³å°ï¼Œç”¨æˆ·åªéœ€ç”¨ä¸­æ–‡æè¿°æµ‹è¯•éœ€æ±‚ï¼ŒAI ç³»ç»Ÿè‡ªåŠ¨ç†è§£éœ€æ±‚ã€åŒ¹é…ç®€ä»ªè®¾å¤‡èŒƒä¾‹ã€ç”Ÿæˆä¸“ä¸š C# æµ‹è¯•ç¨‹åºï¼Œå¹¶åœ¨ Web ç•Œé¢å®æ—¶æ˜¾ç¤ºæµ‹è¯•ç»“æœã€‚

### ğŸ’¡ é¡¹ç›®ä»·å€¼
- **é™ä½æŠ€æœ¯é—¨æ§›**: éç¼–ç¨‹ä¸“ä¸šäººå‘˜ä¹Ÿèƒ½åˆ›å»ºä¸“ä¸šæµ‹è¯•ç¨‹åº
- **æå‡å¼€å‘æ•ˆç‡**: ä»éœ€æ±‚åˆ°å¯æ‰§è¡Œç¨‹åºç¼©çŸ­è‡³ 30 ç§’å†…
- **ä¿è¯æµ‹è¯•è´¨é‡**: åŸºäºç®€ä»ªéªŒè¯è¿‡çš„èŒƒä¾‹ç¡®ä¿æµ‹è¯•å¯é æ€§
- **ä¿ƒè¿›çŸ¥è¯†ä¼ æ‰¿**: å°†ä¸“å®¶ç»éªŒå›ºåŒ–ä¸ºå¯å¤ç”¨çš„æ™ºèƒ½æ¨¡æ¿

### ğŸŒŸ æ ¸å¿ƒç‰¹æ€§

#### **æ™ºèƒ½éœ€æ±‚ç†è§£**
- æ”¯æŒä¸­æ–‡è‡ªç„¶è¯­è¨€è¾“å…¥
- AI è‡ªåŠ¨è§£ææµ‹è¯•å¯¹è±¡ã€å‚æ•°ã€æ–¹æ³•
- æ™ºèƒ½æ¨èæœ€é€‚åˆçš„è®¾å¤‡å’Œé…ç½®

#### **ä»£ç è‡ªåŠ¨ç”Ÿæˆ**
- åŸºäºç®€ä»ªèŒƒä¾‹åº“æ™ºèƒ½åˆæˆä»£ç 
- å‚æ•°è‡ªåŠ¨ä¼˜åŒ–å’Œå®‰å…¨éªŒè¯
- æ”¯æŒå¤šç§æµ‹è¯•åœºæ™¯æ¨¡æ¿

#### **å®‰å…¨æ‰§è¡Œç¯å¢ƒ**
- Docker å®¹å™¨å®Œå…¨éš”ç¦»
- èµ„æºé™åˆ¶å’Œè¶…æ—¶ä¿æŠ¤
- å®æ—¶æ‰§è¡Œåé¦ˆå’Œé”™è¯¯å¤„ç†

#### **ä¸“ä¸šæ•°æ®å¤„ç†**
- é›†æˆåŸæœ‰æµ‹é‡å¹³å°åŠŸèƒ½
- é«˜æ€§èƒ½æ•°æ®é‡‡é›†å’Œåˆ†æ
- å®æ—¶å¯è§†åŒ–å’ŒæŠ¥å‘Šç”Ÿæˆ

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### ç³»ç»Ÿæ¶æ„å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å‰ç«¯å±‚ (Vue3 + TypeScript)                    â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  AI å¯¹è¯ç•Œé¢    â”‚  â”‚  ä»£ç ç¼–è¾‘å™¨     â”‚  â”‚  æ•°æ®å¯è§†åŒ–     â”‚ â”‚
â”‚  â”‚  è‡ªç„¶è¯­è¨€äº¤äº’   â”‚  â”‚  æ™ºèƒ½æç¤º       â”‚  â”‚  å®æ—¶å›¾è¡¨       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“ HTTP/SignalR
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                APIç½‘å…³å±‚ (SeeSharp Backend)                      â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚        åŸæœ‰ä¸šåŠ¡æ¨¡å—           â”‚  â”‚      AI æ™ºèƒ½æœåŠ¡å±‚        â”‚ â”‚
â”‚  â”‚  - æ•°æ®é‡‡é›†å¼•æ“             â”‚  â”‚  - è‡ªç„¶è¯­è¨€å¤„ç†          â”‚ â”‚
â”‚  â”‚  - æ•°æ®å­˜å‚¨æœåŠ¡             â”‚  â”‚  - æ™ºèƒ½æ¨¡æ¿åŒ¹é…          â”‚ â”‚
â”‚  â”‚  - ç¡¬ä»¶é©±åŠ¨ç®¡ç†             â”‚  â”‚  - ä»£ç ç”Ÿæˆå¼•æ“          â”‚ â”‚
â”‚  â”‚  - æ€§èƒ½ç›‘æ§ç³»ç»Ÿ             â”‚  â”‚  - æ•°æ®æ¡¥æ¥æœåŠ¡          â”‚ â”‚
â”‚  â”‚  - SignalR å®æ—¶é€šä¿¡         â”‚  â”‚  - å‚æ•°ä¼˜åŒ–å™¨            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“ HTTP/MCP
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                æ‰§è¡Œå±‚ (C# Runner MCP Service)                    â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  MCP åè®®æ”¯æŒ   â”‚  â”‚  Docker å®¹å™¨    â”‚  â”‚  ç®€ä»ªé©±åŠ¨é›†æˆ   â”‚ â”‚
â”‚  â”‚  å®æ—¶ä»£ç æ‰§è¡Œ   â”‚  â”‚  å®‰å…¨éš”ç¦»       â”‚  â”‚  è®¾å¤‡æ¨¡æ¿ç®¡ç†   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®æµç¨‹å›¾
```
ç”¨æˆ·è‡ªç„¶è¯­è¨€è¾“å…¥
    â†“
AI å¤§æ¨¡å‹è¯­ä¹‰ç†è§£ (DeepSeek/Claude API)
    â†“
éœ€æ±‚è§£æ & å‚æ•°æå–
    â†“
ç®€ä»ªèŒƒä¾‹åº“æ™ºèƒ½åŒ¹é…
    â†“
C# Runner MCP ä»£ç ç”Ÿæˆ
    â†“
Docker å®¹å™¨å®‰å…¨æ‰§è¡Œ
    â†“
åŸåç«¯æ•°æ®å¤„ç† & å­˜å‚¨
    â†“
SignalR å®æ—¶æ¨é€
    â†“
å‰ç«¯å®æ—¶å¯è§†åŒ–æ˜¾ç¤º
```

### æ ¸å¿ƒç»„ä»¶è¯´æ˜

#### **AI æ™ºèƒ½æœåŠ¡å±‚ (æ–°å¢)**
- **NaturalLanguageProcessor**: è‡ªç„¶è¯­è¨€ç†è§£å’Œéœ€æ±‚è§£æ
- **IntelligentTemplateEngine**: åŸºäºå‘é‡ç›¸ä¼¼åº¦çš„æ¨¡æ¿åŒ¹é…
- **SmartCodeGenerator**: æ™ºèƒ½ä»£ç åˆæˆå’Œå‚æ•°ä¼˜åŒ–
- **DataBridgeService**: ä¸¤ä¸ªç³»ç»Ÿé—´çš„æ•°æ®æµè½¬åè°ƒ

#### **åŸæœ‰ä¸šåŠ¡æ¨¡å— (ä¿ç•™å¹¶å¢å¼º)**
- **DataAcquisitionEngine**: é«˜æ€§èƒ½æ•°æ®é‡‡é›† (1GS/s)
- **DataStorageService**: ä¼ä¸šçº§æ•°æ®å­˜å‚¨å’Œå‹ç¼©
- **HardwareDriverManager**: ç®€ä»ªè®¾å¤‡é©±åŠ¨ç®¡ç†
- **PerformanceMonitoringService**: ç³»ç»Ÿæ€§èƒ½ç›‘æ§

#### **C# Runner MCP Service (é›†æˆ)**
- **MCP åè®®æ”¯æŒ**: ä¸ AI å¤§æ¨¡å‹æ— ç¼é›†æˆ
- **Docker å®‰å…¨æ‰§è¡Œ**: å®¹å™¨éš”ç¦»å’Œèµ„æºé™åˆ¶
- **å®æ—¶åé¦ˆ**: SSE æµå¼è¾“å‡ºæ‰§è¡Œè¿‡ç¨‹

---

## ğŸ“… å¼€å‘è®¡åˆ’

### ç¬¬ä¸€é˜¶æ®µï¼šAI åŸºç¡€æœåŠ¡å»ºè®¾ (3-4å‘¨)

#### **1.1 ç®€ä»ªèŒƒä¾‹åº“ç³»ç»ŸåŒ–æ•´ç†** (1å‘¨)

**ç›®æ ‡**: å»ºç«‹ç»“æ„åŒ–çš„ C# ä»£ç èŒƒä¾‹åº“

**å…·ä½“ä»»åŠ¡**:

1. **èŒƒä¾‹åˆ†ç±»æ•´ç†**
   ```
   ç®€ä»ªèŒƒä¾‹åº“/
   â”œâ”€â”€ è®¾å¤‡ç±»å‹/
   â”‚   â”œâ”€â”€ JY5500_PXI/
   â”‚   â”‚   â”œâ”€â”€ åŸºç¡€é‡‡é›†.cs (å•é€šé“, å¤šé€šé“)
   â”‚   â”‚   â”œâ”€â”€ è§¦å‘é‡‡é›†.cs (è¾¹æ²¿è§¦å‘, ç”µå¹³è§¦å‘)
   â”‚   â”‚   â”œâ”€â”€ é¢‘åŸŸåˆ†æ.cs (FFT, åŠŸç‡è°±, ç›¸å¹²åˆ†æ)
   â”‚   â”‚   â””â”€â”€ ä¿¡å·å‘ç”Ÿ.cs (æ­£å¼¦æ³¢, æ–¹æ³¢, æ‰«é¢‘)
   â”‚   â”œâ”€â”€ JYUSB1601/
   â”‚   â”‚   â”œâ”€â”€ è¿ç»­é‡‡é›†.cs (å®æ—¶æµé‡‡é›†)
   â”‚   â”‚   â”œâ”€â”€ æœ‰é™é‡‡é›†.cs (å®šé•¿æ•°æ®é‡‡é›†)
   â”‚   â”‚   â”œâ”€â”€ å¤šé€šé“åŒæ­¥.cs (é€šé“é—´åŒæ­¥é‡‡é›†)
   â”‚   â”‚   â””â”€â”€ æ•°æ®å¤„ç†.cs (æ»¤æ³¢, ç»Ÿè®¡, é˜ˆå€¼æ£€æµ‹)
   â”‚   â””â”€â”€ é€šç”¨è®¾å¤‡/
   â”‚       â”œâ”€â”€ æ¨¡æ‹Ÿæ•°æ®.cs (æµ‹è¯•å’Œæ¼”ç¤ºç”¨)
   â”‚       â””â”€â”€ å‚æ•°éªŒè¯.cs (è¾“å…¥éªŒè¯æ¨¡æ¿)
   â”œâ”€â”€ åº”ç”¨åœºæ™¯/
   â”‚   â”œâ”€â”€ æŒ¯åŠ¨æµ‹è¯•/
   â”‚   â”‚   â”œâ”€â”€ è½´æ‰¿æ•…éšœæ£€æµ‹.cs
   â”‚   â”‚   â”œâ”€â”€ å…±æŒ¯é¢‘ç‡åˆ†æ.cs
   â”‚   â”‚   â””â”€â”€ æŒ¯åŠ¨é¢‘è°±ç›‘æ§.cs
   â”‚   â”œâ”€â”€ ç”µæ°”æµ‹è¯•/
   â”‚   â”‚   â”œâ”€â”€ ä¿¡å·è´¨é‡åˆ†æ.cs
   â”‚   â”‚   â”œâ”€â”€ THD æµ‹è¯•.cs
   â”‚   â”‚   â””â”€â”€ åŠŸç‡åˆ†æ.cs
   â”‚   â”œâ”€â”€ æ¸©åº¦æµ‹é‡/
   â”‚   â”‚   â”œâ”€â”€ å¤šç‚¹æ¸©åº¦ç›‘æ§.cs
   â”‚   â”‚   â”œâ”€â”€ æ¸©åº¦è¶‹åŠ¿åˆ†æ.cs
   â”‚   â”‚   â””â”€â”€ æ¸©åº¦æŠ¥è­¦.cs
   â”‚   â””â”€â”€ ä¿¡å·åˆ†æ/
   â”‚       â”œâ”€â”€ FFT é¢‘è°±åˆ†æ.cs
   â”‚       â”œâ”€â”€ æ•°å­—æ»¤æ³¢.cs
   â”‚       â””â”€â”€ ç»Ÿè®¡åˆ†æ.cs
   ```

2. **æ™ºèƒ½æ ‡ç­¾ç³»ç»Ÿ**
   - **è®¾å¤‡å…¼å®¹æ€§**: `[JY5500, JYUSB1601, é€šç”¨]`
   - **åŠŸèƒ½æ ‡ç­¾**: `[æ•°æ®é‡‡é›†, FFTåˆ†æ, æŒ¯åŠ¨æµ‹è¯•, ç”µæ°”æµ‹è¯•, æ¸©åº¦æµ‹é‡]`
   - **å¤æ‚åº¦**: `[åˆçº§, ä¸­çº§, é«˜çº§, ä¸“å®¶]`
   - **åº”ç”¨é¢†åŸŸ**: `[æ±½è½¦, èˆªç©º, ç”µå­, æœºæ¢°, é€šç”¨]`
   - **å‚æ•°èŒƒå›´**: `[é¢‘ç‡èŒƒå›´, é‡‡æ ·ç‡, é€šé“æ•°, ç²¾åº¦è¦æ±‚]`

3. **å…ƒæ•°æ®ç®¡ç†**
   ```json
   {
     "templateId": "vibration_bearing_analysis",
     "name": "è½´æ‰¿æ•…éšœæŒ¯åŠ¨åˆ†æ",
     "description": "æ£€æµ‹è½´æ‰¿æ•…éšœçš„æŒ¯åŠ¨é¢‘è°±åˆ†æç¨‹åº",
     "device": ["JYUSB1601"],
     "tags": ["æŒ¯åŠ¨æµ‹è¯•", "æ•…éšœè¯Šæ–­", "FFTåˆ†æ"],
     "complexity": "ä¸­çº§",
     "domain": ["æ±½è½¦", "æœºæ¢°"],
     "parameters": {
       "frequencyRange": "1-10kHz",
       "sampleRate": "20kHz",
       "channelCount": "1-4",
       "analysisWindow": "Hanning"
     },
     "author": "ç®€ä»ªç§‘æŠ€",
     "version": "1.0",
     "lastUpdated": "2025-08-01"
   }
   ```

**äº¤ä»˜ç‰©**:
- å®Œæ•´çš„èŒƒä¾‹åº“ç›®å½•ç»“æ„
- è‡³å°‘ 20 ä¸ªæ ¸å¿ƒæµ‹è¯•åœºæ™¯æ¨¡æ¿
- æ ‡ç­¾ç³»ç»Ÿå’Œå…ƒæ•°æ®æ ‡å‡†
- èŒƒä¾‹åº“ç®¡ç†å·¥å…·

#### **1.2 AI è¯­ä¹‰ç†è§£æœåŠ¡å¼€å‘** (2å‘¨)

**ç›®æ ‡**: å®ç°è‡ªç„¶è¯­è¨€éœ€æ±‚è§£æ

**æ ¸å¿ƒç»„ä»¶**:

1. **è‡ªç„¶è¯­è¨€å¤„ç†å™¨**
   ```csharp
   // backend/SeeSharpBackend/Services/AI/NaturalLanguageProcessor.cs
   public class NaturalLanguageProcessor
   {
       private readonly IDeepSeekApiClient _deepSeekClient;
       private readonly IClaudeApiClient _claudeClient;
       private readonly ILogger<NaturalLanguageProcessor> _logger;
       
       public async Task<TestRequirement> AnalyzeRequirement(string userInput)
       {
           try
           {
               // 1. é¢„å¤„ç†ç”¨æˆ·è¾“å…¥
               var preprocessedInput = PreprocessInput(userInput);
               
               // 2. è°ƒç”¨ AI API è¿›è¡Œè¯­ä¹‰ç†è§£
               var aiResponse = await CallAIAPI(preprocessedInput);
               
               // 3. è§£æ AI å“åº”
               var requirement = ParseAIResponse(aiResponse);
               
               // 4. éªŒè¯å’Œä¼˜åŒ–
               return ValidateAndOptimize(requirement);
           }
           catch (Exception ex)
           {
               _logger.LogError(ex, "åˆ†æç”¨æˆ·éœ€æ±‚æ—¶å‘ç”Ÿé”™è¯¯: {Input}", userInput);
               throw;
           }
       }
       
       private async Task<string> CallAIAPI(string input)
       {
           var prompt = $@"
           è¯·åˆ†æä»¥ä¸‹æµ‹è¯•éœ€æ±‚ï¼Œæå–å…³é”®ä¿¡æ¯ï¼š
           
           ç”¨æˆ·è¾“å…¥: {input}
           
           è¯·ä»¥JSONæ ¼å¼è¿”å›åˆ†æç»“æœï¼ŒåŒ…å«ï¼š
           - testObject: æµ‹è¯•å¯¹è±¡
           - testType: æµ‹è¯•ç±»å‹
           - frequencyRange: é¢‘ç‡èŒƒå›´ 
           - analysisMethod: åˆ†ææ–¹æ³•
           - recommendedDevice: æ¨èè®¾å¤‡
           - priority: ä¼˜å…ˆçº§
           - confidence: è¯†åˆ«ç½®ä¿¡åº¦
           ";
           
           // ä¼˜å…ˆä½¿ç”¨ DeepSeekï¼Œå¤±è´¥æ—¶åˆ‡æ¢åˆ° Claude
           try
           {
               return await _deepSeekClient.ProcessAsync(prompt);
           }
           catch (Exception ex)
           {
               _logger.LogWarning(ex, "DeepSeek API è°ƒç”¨å¤±è´¥ï¼Œåˆ‡æ¢åˆ° Claude");
               return await _claudeClient.ProcessAsync(prompt);
           }
       }
   }
   ```

2. **æµ‹è¯•éœ€æ±‚æ•°æ®æ¨¡å‹**
   ```csharp
   public class TestRequirement
   {
       public string TestObject { get; set; } = string.Empty;      // æµ‹è¯•å¯¹è±¡
       public string TestType { get; set; } = string.Empty;        // æµ‹è¯•ç±»å‹
       public string FrequencyRange { get; set; } = string.Empty;  // é¢‘ç‡èŒƒå›´
       public string AnalysisMethod { get; set; } = string.Empty;  // åˆ†ææ–¹æ³•
       public string RecommendedDevice { get; set; } = string.Empty; // æ¨èè®¾å¤‡
       public string Priority { get; set; } = "ä¸­";               // ä¼˜å…ˆçº§
       public double Confidence { get; set; }                     // è¯†åˆ«ç½®ä¿¡åº¦
       public Dictionary<string, object> Parameters { get; set; } = new(); // é™„åŠ å‚æ•°
       public List<string> Keywords { get; set; } = new();        // å…³é”®è¯
       public DateTime Timestamp { get; set; } = DateTime.Now;    // æ—¶é—´æˆ³
   }
   ```

3. **AI API å®¢æˆ·ç«¯é›†æˆ**
   - DeepSeek API é›†æˆ (ä¸»è¦é€‰æ‹©)
   - Claude API é›†æˆ (å¤‡é€‰æ–¹æ¡ˆ)
   - æœ¬åœ°åŒ– Prompt å·¥ç¨‹ä¼˜åŒ–
   - é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶

**äº¤ä»˜ç‰©**:
- è‡ªç„¶è¯­è¨€å¤„ç†æœåŠ¡å®Œæ•´å®ç°
- AI API å®¢æˆ·ç«¯é›†æˆ
- æµ‹è¯•ç”¨ä¾‹å’Œå‡†ç¡®ç‡éªŒè¯ (â‰¥90%)
- API é…ç½®å’Œå¯†é’¥ç®¡ç†

#### **1.3 æ™ºèƒ½æ¨¡æ¿åŒ¹é…å¼•æ“** (1å‘¨)

**ç›®æ ‡**: åŸºäºéœ€æ±‚æ™ºèƒ½æ¨èæœ€ä½³èŒƒä¾‹

**æ ¸å¿ƒç®—æ³•**:

```csharp
public class IntelligentTemplateEngine
{
    private readonly IVectorDatabase _vectorDb;
    private readonly ITemplateRepository _templateRepo;
    
    public async Task<List<TemplateMatch>> MatchTemplates(TestRequirement requirement)
    {
        // 1. å°†éœ€æ±‚è½¬æ¢ä¸ºå‘é‡
        var requirementVector = await VectorizeRequirement(requirement);
        
        // 2. åœ¨å‘é‡æ•°æ®åº“ä¸­æœç´¢ç›¸ä¼¼æ¨¡æ¿
        var similarTemplates = await _vectorDb.SearchSimilar(requirementVector, topK: 10);
        
        // 3. è®¡ç®—ç»¼åˆç›¸ä¼¼åº¦å¾—åˆ†
        var matches = new List<TemplateMatch>();
        foreach (var template in similarTemplates)
        {
            var score = CalculateCompositeScore(requirement, template);
            matches.Add(new TemplateMatch
            {
                TemplateId = template.Id,
                Template = template,
                SimilarityScore = score.Similarity,
                DeviceCompatibility = score.DeviceMatch,
                ComplexityMatch = score.ComplexityMatch,
                DomainRelevance = score.DomainMatch,
                OverallScore = score.Overall,
                Confidence = score.Confidence
            });
        }
        
        // 4. æ’åºå¹¶è¿”å›æœ€ä½³åŒ¹é…
        return matches.OrderByDescending(m => m.OverallScore).ToList();
    }
    
    private CompositeScore CalculateCompositeScore(TestRequirement req, Template template)
    {
        // å¤šç»´åº¦è¯„åˆ†ç®—æ³•
        var similarity = CosineSimilarity(req.Keywords, template.Keywords);     // 30%
        var deviceMatch = DeviceCompatibilityScore(req.RecommendedDevice, template.Devices); // 25%
        var complexityMatch = ComplexityAlignmentScore(req.Priority, template.Complexity);   // 20%
        var domainMatch = DomainRelevanceScore(req.Keywords, template.Domain);              // 15%
        var parameterMatch = ParameterCompatibilityScore(req.Parameters, template.Parameters); // 10%
        
        var overall = similarity * 0.3 + deviceMatch * 0.25 + complexityMatch * 0.2 + 
                     domainMatch * 0.15 + parameterMatch * 0.1;
                     
        return new CompositeScore
        {
            Similarity = similarity,
            DeviceMatch = deviceMatch,
            ComplexityMatch = complexityMatch,
            DomainMatch = domainMatch,
            Overall = overall,
            Confidence = CalculateConfidence(overall, req.Confidence)
        };
    }
}
```

**äº¤ä»˜ç‰©**:
- å‘é‡åŒ–æ¨¡æ¿åŒ¹é…å¼•æ“
- å¤šç»´åº¦è¯„åˆ†ç®—æ³•
- æ¨¡æ¿ç›¸ä¼¼åº¦æµ‹è¯•ç”¨ä¾‹
- æ€§èƒ½åŸºå‡†æµ‹è¯• (< 100ms å“åº”æ—¶é—´)

### ç¬¬äºŒé˜¶æ®µï¼šä»£ç ç”Ÿæˆå’Œæ‰§è¡Œä¼˜åŒ– (3-4å‘¨)

#### **2.1 æ™ºèƒ½ä»£ç åˆæˆå¼•æ“** (2å‘¨)

**ç›®æ ‡**: åŠ¨æ€ç”Ÿæˆä¸ªæ€§åŒ–æµ‹è¯•ä»£ç 

**æ ¸å¿ƒåŠŸèƒ½**:

1. **ä»£ç ç”Ÿæˆå™¨**
   ```csharp
   public class SmartCodeGenerator
   {
       public async Task<string> GenerateTestCode(TestRequirement requirement, TemplateMatch template)
       {
           // 1. åŠ è½½åŸºç¡€æ¨¡æ¿
           var baseTemplate = await LoadTemplate(template.TemplateId);
           
           // 2. å‚æ•°æ™ºèƒ½æ˜ å°„
           var parameters = MapParameters(requirement);
           
           // 3. ä»£ç æ¨¡æ¿æ›¿æ¢
           var parameterizedCode = ReplaceParameters(baseTemplate, parameters);
           
           // 4. AI ä»£ç ä¼˜åŒ–
           var optimizedCode = await OptimizeWithAI(parameterizedCode, requirement);
           
           // 5. å®‰å…¨éªŒè¯
           ValidateCodeSafety(optimizedCode);
           
           // 6. æ·»åŠ æ³¨é‡Šå’Œæ–‡æ¡£
           return AddDocumentation(optimizedCode, requirement);
       }
       
       private Dictionary<string, object> MapParameters(TestRequirement requirement)
       {
           var parameters = new Dictionary<string, object>();
           
           // æ™ºèƒ½å‚æ•°æ˜ å°„
           if (!string.IsNullOrEmpty(requirement.FrequencyRange))
           {
               var (minFreq, maxFreq) = ParseFrequencyRange(requirement.FrequencyRange);
               parameters["sampleRate"] = CalculateOptimalSampleRate(maxFreq);
               parameters["filterCutoff"] = maxFreq;
           }
           
           parameters["deviceType"] = requirement.RecommendedDevice;
           parameters["channelCount"] = DetermineChannelCount(requirement.TestType);
           parameters["analysisMethod"] = SelectAnalysisMethod(requirement.AnalysisMethod);
           parameters["bufferSize"] = CalculateBufferSize(parameters);
           
           return parameters;
       }
       
       private int CalculateOptimalSampleRate(double maxFrequency)
       {
           // å¥ˆå¥æ–¯ç‰¹å®šç†ï¼šé‡‡æ ·ç‡è‡³å°‘æ˜¯æœ€é«˜é¢‘ç‡çš„2å€ï¼Œå®é™…ä½¿ç”¨2.5å€ä¿è¯è´¨é‡
           var nyquistRate = maxFrequency * 2.5;
           
           // æ ‡å‡†é‡‡æ ·ç‡é€‰æ‹©
           var standardRates = new[] { 1000, 2000, 5000, 10000, 20000, 50000, 100000 };
           return standardRates.FirstOrDefault(r => r >= nyquistRate) ?? 100000;
       }
   }
   ```

2. **ä»£ç æ¨¡æ¿ç®¡ç†**
   ```csharp
   public class TemplateManager
   {
       public async Task<string> LoadTemplate(string templateId)
       {
           var templatePath = Path.Combine("Templates", $"{templateId}.cs");
           var template = await File.ReadAllTextAsync(templatePath);
           
           // æ¨¡æ¿å˜é‡æ›¿æ¢æ ‡è®°
           // {{DEVICE_TYPE}} -> è®¾å¤‡ç±»å‹
           // {{SAMPLE_RATE}} -> é‡‡æ ·ç‡
           // {{CHANNEL_COUNT}} -> é€šé“æ•°
           // {{ANALYSIS_METHOD}} -> åˆ†ææ–¹æ³•
           
           return template;
       }
   }
   ```

3. **å‚æ•°éªŒè¯å’Œä¼˜åŒ–**
   ```csharp
   public class ParameterValidator
   {
       public void ValidateParameters(Dictionary<string, object> parameters, string deviceType)
       {
           switch (deviceType)
           {
               case "JY5500":
                   ValidateJY5500Parameters(parameters);
                   break;
               case "JYUSB1601":
                   ValidateJYUSB1601Parameters(parameters);
                   break;
           }
       }
       
       private void ValidateJYUSB1601Parameters(Dictionary<string, object> parameters)
       {
           if (parameters.TryGetValue("sampleRate", out var sampleRateObj))
           {
               var sampleRate = Convert.ToInt32(sampleRateObj);
               if (sampleRate > 1000000) // JYUSB1601 æœ€å¤§é‡‡æ ·ç‡ 1MHz
               {
                   throw new ArgumentException($"JYUSB1601 æœ€å¤§é‡‡æ ·ç‡ä¸º 1MHzï¼Œå½“å‰è®¾ç½®: {sampleRate}");
               }
           }
       }
   }
   ```

**äº¤ä»˜ç‰©**:
- æ™ºèƒ½ä»£ç ç”Ÿæˆå¼•æ“
- å‚æ•°æ˜ å°„å’Œä¼˜åŒ–ç®—æ³•
- ä»£ç å®‰å…¨éªŒè¯æœºåˆ¶
- ç”Ÿæˆä»£ç è´¨é‡æµ‹è¯•

#### **2.2 å¢å¼º C# Runner é›†æˆ** (1å‘¨)

**ç›®æ ‡**: ä¼˜åŒ–ä»£ç æ‰§è¡Œå’Œç»“æœå¤„ç†

**å…³é”®æ”¹è¿›**:

1. **ç®€ä»ª DLL å®¹å™¨é›†æˆ**
   ```dockerfile
   # csharp-runner/Docker/Dockerfile.worker-jytek
   FROM sdcb/csharp-runner-worker:latest
   
   # æ·»åŠ ç®€ä»ªé©±åŠ¨æ–‡ä»¶
   COPY JYDrivers/ /app/JYDrivers/
   COPY JYDrivers/*.dll /app/
   
   # è®¾ç½®ç¯å¢ƒå˜é‡
   ENV JYTEK_DRIVER_PATH=/app/JYDrivers
   ENV LD_LIBRARY_PATH=/app/JYDrivers:$LD_LIBRARY_PATH
   
   # å®‰è£…ä¾èµ–
   RUN apt-get update && apt-get install -y libusb-1.0-0
   
   # è®¾ç½®æƒé™
   RUN chmod +x /app/JYDrivers/*
   ```

2. **é”™è¯¯å¤„ç†å¢å¼º**
   ```csharp
   public class EnhancedCSharpRunnerService : ICSharpRunnerService
   {
       public async Task<CSharpExecutionResult> ExecuteInstrumentCodeAsync(
           string code, string deviceType, Dictionary<string, object> parameters)
       {
           try
           {
               // é¢„å¤„ç†ä»£ç 
               var enhancedCode = EnhanceInstrumentCode(code, deviceType, parameters);
               
               // æ‰§è¡Œä»£ç 
               var result = await ExecuteCodeAsync(enhancedCode);
               
               // å¤„ç†æ‰§è¡Œç»“æœ
               if (result.Success && result.ReturnValue != null)
               {
                   result.InstrumentData = ParseInstrumentData(result.ReturnValue, deviceType);
                   result.Recommendations = GenerateOptimizationRecommendations(result);
               }
               
               return result;
           }
           catch (Exception ex)
           {
               return HandleExecutionError(ex, deviceType);
           }
       }
       
       private CSharpExecutionResult HandleExecutionError(Exception ex, string deviceType)
       {
           var errorAnalysis = AnalyzeError(ex, deviceType);
           return new CSharpExecutionResult
           {
               Success = false,
               ErrorOutput = ex.Message,
               ErrorAnalysis = errorAnalysis,
               Suggestions = GenerateErrorSuggestions(errorAnalysis)
           };
       }
   }
   ```

3. **å¤§æ•°æ®ä¼ è¾“ä¼˜åŒ–**
   - æ•°æ®å‹ç¼©å’Œåˆ†å—ä¼ è¾“
   - å¢é‡æ•°æ®æ›´æ–°
   - å†…å­˜ä½¿ç”¨ä¼˜åŒ–

**äº¤ä»˜ç‰©**:
- å¢å¼ºçš„ C# Runner æœåŠ¡
- ç®€ä»ª DLL é›†æˆæµ‹è¯•
- å¤§æ•°æ®ä¼ è¾“ä¼˜åŒ–
- å®Œæ•´çš„é”™è¯¯å¤„ç†æœºåˆ¶

#### **2.3 æ•°æ®æ¡¥æ¥æœåŠ¡å®Œå–„** (1å‘¨)

**ç›®æ ‡**: æ— ç¼é›†æˆä¸¤ä¸ªç³»ç»Ÿçš„æ•°æ®æµ

```csharp
public class DataBridgeService
{
    private readonly IDataAcquisitionEngine _acquisitionEngine;
    private readonly IDataStorageService _storageService;
    private readonly IDataAnalysisService _analysisService;
    private readonly IHubContext<DataStreamHub> _hubContext;
    
    public async Task<ProcessedResult> ProcessExecutionResult(CSharpExecutionResult result)
    {
        // 1. æ•°æ®æ ¼å¼è½¬æ¢
        var instrumentData = ConvertToInstrumentFormat(result);
        
        // 2. æ•°æ®è´¨é‡éªŒè¯
        var qualityReport = await ValidateDataQuality(instrumentData);
        
        // 3. åˆ©ç”¨åŸæœ‰æ•°æ®å¤„ç†ç®¡é“
        var processedData = await _acquisitionEngine.ProcessAsync(instrumentData);
        
        // 4. æ•°æ®å­˜å‚¨å’Œå‹ç¼©
        await _storageService.StoreAsync(processedData);
        
        // 5. æ™ºèƒ½æ•°æ®åˆ†æ
        var analysis = await _analysisService.AnalyzeAsync(processedData);
        
        // 6. ç”Ÿæˆå¯è§†åŒ–æ•°æ®
        var visualizations = GenerateVisualizationData(processedData, analysis);
        
        // 7. å®æ—¶æ¨é€åˆ°å‰ç«¯
        await _hubContext.Clients.All.SendAsync("InstrumentDataReceived", new
        {
            Data = processedData,
            Analysis = analysis,
            Visualizations = visualizations,
            QualityReport = qualityReport
        });
        
        return new ProcessedResult
        {
            RawData = result,
            ProcessedData = processedData,
            Analysis = analysis,
            Visualizations = visualizations,
            QualityReport = qualityReport
        };
    }
}
```

**äº¤ä»˜ç‰©**:
- å®Œæ•´çš„æ•°æ®æ¡¥æ¥æœåŠ¡
- æ•°æ®æ ¼å¼è½¬æ¢å·¥å…·
- è´¨é‡éªŒè¯æœºåˆ¶
- å®æ—¶æ¨é€åŠŸèƒ½

### ç¬¬ä¸‰é˜¶æ®µï¼šå‰ç«¯ AI ç•Œé¢å¼€å‘ (2-3å‘¨)

#### **3.1 AI å¯¹è¯ç•Œé¢** (1.5å‘¨)

**ç›®æ ‡**: è‡ªç„¶è¯­è¨€äº¤äº’ç•Œé¢

**ç•Œé¢è®¾è®¡**:

```vue
<!-- frontend/src/components/ai/AITestAssistant.vue -->
<template>
  <div class="ai-test-assistant">
    <!-- å¯¹è¯å†å²åŒºåŸŸ -->
    <div class="chat-container">
      <div class="message-list" ref="messageList">
        <div 
          v-for="msg in messages" 
          :key="msg.id" 
          :class="['message', msg.type]"
        >
          <div class="message-content">
            <div class="message-text">{{ msg.content }}</div>
            <div v-if="msg.confidence" class="confidence-indicator">
              ç½®ä¿¡åº¦: {{ (msg.confidence * 100).toFixed(1) }}%
            </div>
          </div>
          <div class="message-timestamp">
            {{ formatTime(msg.timestamp) }}
          </div>
        </div>
      </div>
      
      <!-- æ™ºèƒ½å»ºè®®åŒºåŸŸ -->
      <div class="suggestions-panel" v-if="suggestions.length > 0">
        <h4>ğŸ’¡ æ™ºèƒ½å»ºè®®</h4>
        <div class="suggestion-tags">
          <el-tag 
            v-for="suggestion in suggestions" 
            :key="suggestion.id"
            @click="useSuggestion(suggestion)"
            class="suggestion-tag"
          >
            {{ suggestion.text }}
          </el-tag>
        </div>
      </div>
    </div>
    
    <!-- è¾“å…¥åŒºåŸŸ -->
    <div class="input-panel">
      <div class="input-wrapper">
        <el-input
          v-model="userInput"
          type="textarea"
          :rows="3"
          placeholder="è¯·ç”¨ä¸­æ–‡æè¿°æ‚¨çš„æµ‹è¯•éœ€æ±‚ï¼Œä¾‹å¦‚ï¼š'æˆ‘è¦æµ‹è¯•æ±½è½¦å‘åŠ¨æœºçš„æŒ¯åŠ¨ç‰¹æ€§ï¼Œé¢‘ç‡èŒƒå›´0-5kHzï¼Œéœ€è¦FFTåˆ†æ'"
          @keyup.ctrl.enter="submitRequirement"
          :disabled="isProcessing"
        />
        <div class="input-actions">
          <el-button 
            @click="submitRequirement" 
            type="primary"
            :loading="isProcessing"
            :disabled="!userInput.trim()"
          >
            <i class="el-icon-magic-stick"></i>
            ç”Ÿæˆæµ‹è¯•ç¨‹åº
          </el-button>
          <el-button @click="clearConversation" size="small">
            <i class="el-icon-refresh"></i>
            æ¸…ç©ºå¯¹è¯
          </el-button>
        </div>
      </div>
    </div>
    
    <!-- å¸¸ç”¨åœºæ™¯å¿«æ·å…¥å£ -->
    <div class="quick-scenarios">
      <h4>ğŸš€ å¸¸ç”¨æµ‹è¯•åœºæ™¯</h4>
      <div class="scenario-grid">
        <div 
          v-for="scenario in quickScenarios" 
          :key="scenario.id"
          @click="useScenario(scenario)"
          class="scenario-card"
        >
          <div class="scenario-icon">{{ scenario.icon }}</div>
          <div class="scenario-title">{{ scenario.title }}</div>
          <div class="scenario-desc">{{ scenario.description }}</div>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref, reactive, nextTick, onMounted } from 'vue'
import { ElMessage } from 'element-plus'
import { AITestService } from '@/services/AITestService'

interface Message {
  id: string
  type: 'user' | 'assistant' | 'system'
  content: string
  timestamp: Date
  confidence?: number
}

interface Suggestion {
  id: string
  text: string
  type: 'parameter' | 'device' | 'analysis'
}

const userInput = ref('')
const isProcessing = ref(false)
const messages = ref<Message[]>([])
const suggestions = ref<Suggestion[]>([])
const messageList = ref<HTMLElement>()

const quickScenarios = [
  {
    id: 'vibration',
    icon: 'ğŸ”§',
    title: 'æŒ¯åŠ¨æµ‹è¯•',
    description: 'ç”µæœºè½´æ‰¿æ•…éšœæ£€æµ‹',
    template: 'æ£€æµ‹ç”µæœºè½´æ‰¿æ•…éšœï¼Œéœ€è¦æŸ¥çœ‹1-10kHzé¢‘æ®µçš„æŒ¯åŠ¨ç‰¹å¾'
  },
  {
    id: 'electrical',
    icon: 'âš¡',
    title: 'ç”µæ°”æµ‹è¯•',
    description: 'ä¿¡å·è´¨é‡å’ŒTHDåˆ†æ',
    template: 'æµ‹è¯•ä¿¡å·å‘ç”Ÿå™¨çš„THDï¼Œé¢‘ç‡1kHzï¼Œå¹…åº¦1V'
  },
  {
    id: 'temperature',
    icon: 'ğŸŒ¡ï¸',
    title: 'æ¸©åº¦ç›‘æ§',
    description: 'å¤šç‚¹æ¸©åº¦å®æ—¶ç›‘æ§',
    template: 'ç›‘æ§4ä¸ªæ¸©åº¦ä¼ æ„Ÿå™¨ï¼Œé‡‡æ ·é—´éš”1ç§’ï¼Œæ¸©åº¦æŠ¥è­¦é˜ˆå€¼80Â°C'
  }
]

const aiTestService = new AITestService()

const submitRequirement = async () => {
  if (!userInput.value.trim() || isProcessing.value) return
  
  const userMessage: Message = {
    id: generateId(),
    type: 'user',
    content: userInput.value,
    timestamp: new Date()
  }
  
  messages.value.push(userMessage)
  const currentInput = userInput.value
  userInput.value = ''
  isProcessing.value = true
  
  try {
    // è°ƒç”¨ AI æœåŠ¡åˆ†æéœ€æ±‚
    const response = await aiTestService.analyzeRequirement(currentInput)
    
    // æ˜¾ç¤º AI åˆ†æç»“æœ
    messages.value.push({
      id: generateId(),
      type: 'assistant',
      content: `æˆ‘ç†è§£æ‚¨éœ€è¦è¿›è¡Œ${response.testType}ï¼Œæµ‹è¯•å¯¹è±¡æ˜¯${response.testObject}ã€‚æ¨èä½¿ç”¨${response.recommendedDevice}è®¾å¤‡ã€‚`,
      timestamp: new Date(),
      confidence: response.confidence
    })
    
    // ç”Ÿæˆæµ‹è¯•ä»£ç 
    const codeResult = await aiTestService.generateTestCode(response)
    
    messages.value.push({
      id: generateId(),
      type: 'system',
      content: `å·²ä¸ºæ‚¨ç”Ÿæˆæµ‹è¯•ç¨‹åºï¼Œæ­£åœ¨æ‰§è¡Œ...`,
      timestamp: new Date()
    })
    
    // æ‰§è¡Œä»£ç å¹¶æ˜¾ç¤ºç»“æœ
    const executionResult = await aiTestService.executeTestCode(codeResult.code, response.recommendedDevice)
    
    if (executionResult.success) {
      messages.value.push({
        id: generateId(),
        type: 'assistant',
        content: `æµ‹è¯•ç¨‹åºæ‰§è¡ŒæˆåŠŸï¼å·²é‡‡é›†åˆ°æ•°æ®å¹¶åœ¨å³ä¾§å›¾è¡¨ä¸­æ˜¾ç¤ºã€‚`,
        timestamp: new Date()
      })
    } else {
      messages.value.push({
        id: generateId(),
        type: 'assistant',
        content: `æ‰§è¡Œé‡åˆ°é—®é¢˜ï¼š${executionResult.errorOutput}`,
        timestamp: new Date()
      })
    }
    
  } catch (error) {
    ElMessage.error('å¤„ç†è¯·æ±‚æ—¶å‘ç”Ÿé”™è¯¯ï¼Œè¯·é‡è¯•')
    messages.value.push({
      id: generateId(),
      type: 'system',
      content: `å¤„ç†è¯·æ±‚æ—¶å‘ç”Ÿé”™è¯¯ï¼š${error}`,
      timestamp: new Date()
    })
  } finally {
    isProcessing.value = false
    await nextTick()
    scrollToBottom()
  }
}

const scrollToBottom = () => {
  if (messageList.value) {
    messageList.value.scrollTop = messageList.value.scrollHeight
  }
}

const generateId = () => Math.random().toString(36).substr(2, 9)
const formatTime = (date: Date) => date.toLocaleTimeString()

onMounted(() => {
  messages.value.push({
    id: generateId(),
    type: 'assistant',
    content: 'æ‚¨å¥½ï¼æˆ‘æ˜¯ SeeSharpTools AI æµ‹è¯•åŠ©æ‰‹ã€‚è¯·ç”¨ä¸­æ–‡æè¿°æ‚¨çš„æµ‹è¯•éœ€æ±‚ï¼Œæˆ‘å°†ä¸ºæ‚¨è‡ªåŠ¨ç”Ÿæˆä¸“ä¸šçš„æµ‹è¯•ç¨‹åºã€‚',
    timestamp: new Date()
  })
})
</script>
```

**äº¤ä»˜ç‰©**:
- AI å¯¹è¯ç•Œé¢ç»„ä»¶
- è‡ªç„¶è¯­è¨€è¾“å…¥å¤„ç†
- æ™ºèƒ½å»ºè®®å’Œå¿«æ·åœºæ™¯
- å¯¹è¯å†å²ç®¡ç†

#### **3.2 æ™ºèƒ½ä»£ç ç¼–è¾‘å™¨å¢å¼º** (1å‘¨)

**ç›®æ ‡**: æå‡ä»£ç ç¼–è¾‘ä½“éªŒ

**åŠŸèƒ½å¢å¼º**:

1. **AI ä»£ç è§£é‡Š**
   ```typescript
   // frontend/src/components/ai/SmartCodeEditor.vue
   export class SmartCodeEditor {
     async explainCode(selectedCode: string): Promise<string> {
       const response = await this.aiService.explainCode(selectedCode)
       return response.explanation
     }
     
     async suggestOptimization(code: string): Promise<OptimizationSuggestion[]> {
       return await this.aiService.suggestOptimization(code)
     }
   }
   ```

2. **å‚æ•°æ™ºèƒ½æç¤º**
   - å®æ—¶å‚æ•°éªŒè¯
   - æ™ºèƒ½å‚æ•°å»ºè®®
   - è®¾å¤‡å…¼å®¹æ€§æ£€æŸ¥

3. **ä¸€é”®å‚æ•°è°ƒä¼˜**
   - æ€§èƒ½ä¼˜åŒ–å»ºè®®
   - ç²¾åº¦æå‡å»ºè®®
   - èµ„æºä½¿ç”¨ä¼˜åŒ–

**äº¤ä»˜ç‰©**:
- å¢å¼ºçš„ä»£ç ç¼–è¾‘å™¨
- AI ä»£ç è§£é‡ŠåŠŸèƒ½
- æ™ºèƒ½å‚æ•°è°ƒä¼˜å·¥å…·

#### **3.3 ç»“æœå¯è§†åŒ–ä¼˜åŒ–** (0.5å‘¨)

**ç›®æ ‡**: æ™ºèƒ½æ•°æ®å±•ç¤º

**å¯è§†åŒ–å¢å¼º**:
- è‡ªåŠ¨å›¾è¡¨ç±»å‹é€‰æ‹©
- æ™ºèƒ½æ•°æ®åˆ†ææ´å¯Ÿ
- äº¤äº’å¼æ•°æ®æ¢ç´¢
- æµ‹è¯•æŠ¥å‘Šè‡ªåŠ¨ç”Ÿæˆ

**äº¤ä»˜ç‰©**:
- æ™ºèƒ½å¯è§†åŒ–ç»„ä»¶
- è‡ªåŠ¨æŠ¥å‘Šç”Ÿæˆå™¨
- äº¤äº’å¼æ•°æ®æ¢ç´¢å·¥å…·

### ç¬¬å››é˜¶æ®µï¼šç³»ç»Ÿé›†æˆå’Œä¼˜åŒ– (2-3å‘¨)

#### **4.1 ç«¯åˆ°ç«¯é›†æˆæµ‹è¯•** (1å‘¨)

**æµ‹è¯•åœºæ™¯**:

1. **æŒ¯åŠ¨æµ‹è¯•åœºæ™¯**
   ```
   è¾“å…¥: "æ£€æµ‹ç”µæœºè½´æ‰¿æ•…éšœï¼Œé¢‘ç‡èŒƒå›´1-10kHz"
   é¢„æœŸ: è‡ªåŠ¨ç”ŸæˆJYUSB1601æŒ¯åŠ¨é‡‡é›†ä»£ç ï¼Œæ‰§è¡Œå¹¶æ˜¾ç¤ºé¢‘è°±
   éªŒè¯: FFTåˆ†æç»“æœæ­£ç¡®ï¼Œæ•…éšœç‰¹å¾é¢‘ç‡æ ‡è¯†
   ```

2. **ç”µæ°”æµ‹è¯•åœºæ™¯**
   ```
   è¾“å…¥: "æµ‹è¯•ä¿¡å·å‘ç”Ÿå™¨THDï¼Œ1kHzæ­£å¼¦æ³¢"
   é¢„æœŸ: ç”Ÿæˆè°æ³¢åˆ†æä»£ç ï¼Œè®¡ç®—THDå€¼
   éªŒè¯: THDè®¡ç®—å‡†ç¡®ï¼Œè°æ³¢æˆåˆ†åˆ†ææ­£ç¡®
   ```

3. **æ¸©åº¦æµ‹è¯•åœºæ™¯**
   ```
   è¾“å…¥: "ç›‘æ§4è·¯æ¸©åº¦ä¼ æ„Ÿå™¨ï¼Œ1ç§’é‡‡æ ·"
   é¢„æœŸ: ç”Ÿæˆå¤šé€šé“æ¸©åº¦é‡‡é›†ä»£ç 
   éªŒè¯: å®æ—¶æ¸©åº¦æ˜¾ç¤ºï¼Œè¶‹åŠ¿åˆ†æå›¾è¡¨
   ```

**äº¤ä»˜ç‰©**:
- å®Œæ•´çš„ç«¯åˆ°ç«¯æµ‹è¯•ç”¨ä¾‹
- è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬
- æ€§èƒ½åŸºå‡†æµ‹è¯•æŠ¥å‘Š

#### **4.2 æ€§èƒ½ä¼˜åŒ–** (1å‘¨)

**ä¼˜åŒ–é‡ç‚¹**:

1. **AI API è°ƒç”¨ä¼˜åŒ–**
   - è¯·æ±‚ç¼“å­˜æœºåˆ¶
   - å¹¶å‘è¯·æ±‚æ§åˆ¶
   - è¶…æ—¶å’Œé‡è¯•ç­–ç•¥

2. **ä»£ç æ‰§è¡Œæ€§èƒ½**
   - Docker å®¹å™¨é¢„çƒ­
   - ä»£ç ç¼–è¯‘ç¼“å­˜
   - èµ„æºä½¿ç”¨ç›‘æ§

3. **æ•°æ®ä¼ è¾“ä¼˜åŒ–**
   - WebSocket è¿æ¥å¤ç”¨
   - æ•°æ®å‹ç¼©å’Œåˆ†å—
   - å¢é‡æ•°æ®æ›´æ–°

**äº¤ä»˜ç‰©**:
- æ€§èƒ½ä¼˜åŒ–æŠ¥å‘Š
- ç›‘æ§å’Œå‘Šè­¦é…ç½®
- å®¹é‡è§„åˆ’å»ºè®®

#### **4.3 å®‰å…¨åŠ å›º** (1å‘¨)

**å®‰å…¨æªæ–½**:

1. **ä»£ç æ‰§è¡Œå®‰å…¨**
   - ä»£ç é™æ€åˆ†æ
   - å±é™©æ“ä½œæ£€æµ‹
   - èµ„æºä½¿ç”¨é™åˆ¶

2. **API å®‰å…¨**
   - è®¿é—®é¢‘ç‡é™åˆ¶
   - API å¯†é’¥ç®¡ç†
   - è¯·æ±‚ç­¾åéªŒè¯

3. **æ•°æ®å®‰å…¨**
   - æ•æ„Ÿæ•°æ®åŠ å¯†
   - è®¿é—®æ—¥å¿—å®¡è®¡
   - æƒé™ç®¡ç†

**äº¤ä»˜ç‰©**:
- å®‰å…¨åŠ å›ºæ–¹æ¡ˆ
- å®‰å…¨æµ‹è¯•æŠ¥å‘Š
- å®‰å…¨è¿ç»´æ‰‹å†Œ

---

## ğŸ¯ é¢„æœŸæˆæœå±•ç¤º

### å…¸å‹ä½¿ç”¨åœºæ™¯

#### **åœºæ™¯ä¸€ï¼šè½´æ‰¿æ•…éšœæ£€æµ‹**
```
ç”¨æˆ·è¾“å…¥: "æ£€æµ‹ç”µæœºè½´æ‰¿æ•…éšœï¼Œéœ€è¦æŸ¥çœ‹1-10kHzé¢‘æ®µçš„æŒ¯åŠ¨ç‰¹å¾"

AIè‡ªåŠ¨å¤„ç†:
1. éœ€æ±‚ç†è§£ â†’ è½´æ‰¿æ•…éšœæ£€æµ‹ + æŒ¯åŠ¨åˆ†æ + 1-10kHzé¢‘æ®µ
2. è®¾å¤‡æ¨è â†’ JYUSB1601 (é€‚åˆæŒ¯åŠ¨æµ‹è¯•ï¼Œæ”¯æŒé«˜é‡‡æ ·ç‡)
3. æ¨¡æ¿åŒ¹é… â†’ æŒ¯åŠ¨_è¿ç»­é‡‡é›† + å¸¦é€šæ»¤æ³¢ + FFTåˆ†æ
4. å‚æ•°ä¼˜åŒ– â†’ 25kHzé‡‡æ ·ç‡ï¼ŒHanningçª—å‡½æ•°ï¼Œ4096ç‚¹FFT
5. ä»£ç ç”Ÿæˆ â†’ å®Œæ•´çš„C#æµ‹è¯•ç¨‹åº (çº¦50è¡Œä»£ç )
6. æ‰§è¡Œç»“æœ â†’ å®æ—¶é¢‘è°±æ˜¾ç¤ºï¼Œæ•…éšœç‰¹å¾é¢‘ç‡è‡ªåŠ¨æ ‡è¯†

ç”Ÿæˆä»£ç ç¤ºä¾‹:
```csharp
// AIè‡ªåŠ¨ç”Ÿæˆçš„è½´æ‰¿æ•…éšœæ£€æµ‹ä»£ç 
var aiTask = new JYUSB1601AITask("0");
try {
    // é…ç½®æŒ¯åŠ¨æµ‹è¯•å‚æ•°
    aiTask.AddChannel(0, -10, 10);  // æŒ¯åŠ¨ä¼ æ„Ÿå™¨é€šé“
    aiTask.Mode = AIMode.Continuous;
    aiTask.SampleRate = 25000;  // AIæ¨èçš„æœ€ä½³é‡‡æ ·ç‡
    
    aiTask.Start();
    
    // é‡‡é›†æ•°æ®ç”¨äºæ•…éšœåˆ†æ
    var data = new double[4096, 1];
    aiTask.ReadData(ref data, 4096, -1);
    
    // AIç”Ÿæˆçš„FFTåˆ†æä»£ç 
    var fftResult = PerformBearingFaultAnalysis(data);
    
    return new {
        deviceType = "JYUSB1601",
        analysisType = "BearingFaultDetection", 
        frequencyRange = "1-10kHz",
        faultFrequencies = fftResult.FaultFrequencies,
        fftSpectrum = fftResult.Spectrum,
        healthScore = fftResult.HealthScore
    };
}
finally { aiTask?.Channels.Clear(); }
```

æ‰§è¡Œæ—¶é—´: < 5ç§’
å‡†ç¡®ç‡: > 95%
```

#### **åœºæ™¯äºŒï¼šä¿¡å·è´¨é‡åˆ†æ**
```
ç”¨æˆ·è¾“å…¥: "æµ‹è¯•ä¿¡å·å‘ç”Ÿå™¨çš„ä¿¡å·è´¨é‡ï¼Œ1kHzæ­£å¼¦æ³¢ï¼Œéœ€è¦THDåˆ†æ"

AIè‡ªåŠ¨å¤„ç†:
1. éœ€æ±‚ç†è§£ â†’ ä¿¡å·è´¨é‡æµ‹è¯• + THDåˆ†æ + 1kHzæ­£å¼¦æ³¢
2. è®¾å¤‡æ¨è â†’ JY5500 (é«˜ç²¾åº¦ï¼Œé€‚åˆä¿¡å·åˆ†æ)
3. æ¨¡æ¿åŒ¹é… â†’ ä¿¡å·_è´¨é‡åˆ†æ + THDè®¡ç®— + è°æ³¢æ£€æµ‹
4. å‚æ•°ä¼˜åŒ– â†’ 100kHzé‡‡æ ·ç‡ï¼Œ10å‘¨æœŸé‡‡é›†ï¼ŒKaiserçª—
5. ä»£ç ç”Ÿæˆ â†’ THDè®¡ç®—å’Œè°æ³¢åˆ†æç¨‹åº
6. æ‰§è¡Œç»“æœ â†’ THDå€¼ã€å„æ¬¡è°æ³¢æˆåˆ†ã€ä¿¡å·è´¨é‡è¯„ä¼°

é¢„æœŸç»“æœ:
THD: 0.05% (-66dB)
2æ¬¡è°æ³¢: -70dB
3æ¬¡è°æ³¢: -75dB
ä¿¡å·è´¨é‡: ä¼˜ç§€
```

### æ ¸å¿ƒæŠ€æœ¯æŒ‡æ ‡

| æŒ‡æ ‡ç±»åˆ« | ç›®æ ‡å€¼ | å½“å‰çŠ¶æ€ | å¤‡æ³¨ |
|---------|--------|----------|------|
| **AIç†è§£å‡†ç¡®ç‡** | â‰¥90% | å¾…æµ‹è¯• | åŸºäºç®€ä»ªæµ‹è¯•åœºæ™¯ |
| **ä»£ç ç”Ÿæˆé€Ÿåº¦** | <5ç§’ | å¾…æµ‹è¯• | åŒ…å«AIåˆ†æå’Œä»£ç åˆæˆ |
| **æ‰§è¡Œå®‰å…¨æ€§** | 100% | âœ… å·²å®ç° | Dockeræ²™ç®±éš”ç¦» |
| **æ•°æ®å¤„ç†èƒ½åŠ›** | 1GS/s | âœ… å·²å®ç° | åŸæœ‰å¹³å°èƒ½åŠ› |
| **ç”¨æˆ·ä½“éªŒæ—¶é—´** | <30ç§’ | å¾…æµ‹è¯• | ä»éœ€æ±‚åˆ°ç»“æœå®Œæ•´æµç¨‹ |
| **å¹¶å‘ç”¨æˆ·æ•°** | 100+ | å¾…æµ‹è¯• | å¤šç”¨æˆ·åŒæ—¶ä½¿ç”¨ |
| **ä»£ç è´¨é‡** | Açº§ | å¾…éªŒè¯ | åŸºäºç®€ä»ªæœ€ä½³å®è·µ |

---

## ğŸ“Š å®æ–½æŒ‡å—

### å¼€å‘ç¯å¢ƒé…ç½®

#### **åç«¯å¼€å‘ç¯å¢ƒ**
```bash
# 1. .NET ç¯å¢ƒ
dotnet --version  # ç¡®ä¿ 8.0+

# 2. AI API é…ç½®
export DEEPSEEK_API_KEY="your_api_key"
export CLAUDE_API_KEY="your_api_key"

# 3. æ•°æ®åº“é…ç½® (å¦‚ä½¿ç”¨å‘é‡æ•°æ®åº“)
docker run -d --name vector-db -p 6333:6333 qdrant/qdrant

# 4. C# Runner æœåŠ¡
cd csharp-runner
docker-compose up -d
```

#### **å‰ç«¯å¼€å‘ç¯å¢ƒ**
```bash
# 1. Node.js ç¯å¢ƒ
node --version  # ç¡®ä¿ 18+

# 2. å‰ç«¯ä¾èµ–
cd frontend
npm install

# 3. å¼€å‘æœåŠ¡å™¨
npm run dev
```

### éƒ¨ç½²é…ç½®

#### **ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²**
```yaml
# docker-compose.prod.yml
version: '3.8'
services:
  seesharp-backend:
    build: ./backend/SeeSharpBackend
    ports:
      - "5001:5001"
    environment:
      - DEEPSEEK_API_KEY=${DEEPSEEK_API_KEY}
      - CLAUDE_API_KEY=${CLAUDE_API_KEY}
    depends_on:
      - csharp-runner-host
      - vector-db
      
  csharp-runner-host:
    image: sdcb/csharp-runner-host:latest
    ports:
      - "5050:8080"
    restart: unless-stopped

  csharp-runner-worker:
    build: 
      context: ./csharp-runner
      dockerfile: Docker/Dockerfile.worker-jytek
    environment:
      - MaxRuns=10
      - Register=true
      - RegisterHostUrl=http://csharp-runner-host:8080
    restart: unless-stopped
    deploy:
      replicas: 3
      
  vector-db:
    image: qdrant/qdrant
    ports:
      - "6333:6333"
    volumes:
      - vector_data:/qdrant/storage
      
  frontend:
    build: ./frontend
    ports:
      - "80:80"
    depends_on:
      - seesharp-backend

volumes:
  vector_data:
```

### é…ç½®ç®¡ç†

#### **AI æœåŠ¡é…ç½®**
```json
// backend/SeeSharpBackend/appsettings.json
{
  "AIServices": {
    "DeepSeek": {
      "ApiKey": "${DEEPSEEK_API_KEY}",
      "ApiUrl": "https://api.deepseek.com/v1",
      "Model": "deepseek-coder",
      "Timeout": 30000,
      "MaxRetries": 3
    },
    "Claude": {
      "ApiKey": "${CLAUDE_API_KEY}",
      "ApiUrl": "https://api.anthropic.com/v1",
      "Model": "claude-3-sonnet",
      "Timeout": 30000,
      "MaxRetries": 3
    }
  },
  "CSharpRunner": {
    "ServiceUrl": "http://csharp-runner-host:8080",
    "DefaultTimeout": 60,
    "MaxConcurrentExecutions": 10
  },
  "TemplateLibrary": {
    "BasePath": "/app/Templates",
    "CacheEnabled": true,
    "CacheTTL": 3600
  }
}
```

---

## ğŸ” è´¨é‡ä¿è¯

### æµ‹è¯•ç­–ç•¥

#### **1. å•å…ƒæµ‹è¯•**
```csharp
[TestClass]
public class NaturalLanguageProcessorTests
{
    [TestMethod]
    public async Task AnalyzeRequirement_VibrationTest_ShouldReturnCorrectAnalysis()
    {
        // Arrange
        var processor = new NaturalLanguageProcessor();
        var input = "æ£€æµ‹ç”µæœºè½´æ‰¿æ•…éšœï¼Œé¢‘ç‡èŒƒå›´1-10kHz";
        
        // Act
        var result = await processor.AnalyzeRequirement(input);
        
        // Assert
        Assert.AreEqual("æŒ¯åŠ¨æµ‹è¯•", result.TestType);
        Assert.AreEqual("ç”µæœºè½´æ‰¿", result.TestObject);
        Assert.AreEqual("1-10kHz", result.FrequencyRange);
        Assert.IsTrue(result.Confidence > 0.8);
    }
}
```

#### **2. é›†æˆæµ‹è¯•**
```csharp
[TestClass]
public class AITestWorkflowTests
{
    [TestMethod]
    public async Task EndToEndWorkflow_VibrationAnalysis_ShouldSucceed()
    {
        // å®Œæ•´å·¥ä½œæµç¨‹æµ‹è¯•
        var userInput = "æ£€æµ‹ç”µæœºè½´æ‰¿æ•…éšœï¼Œé¢‘ç‡èŒƒå›´1-10kHz";
        
        // 1. AI éœ€æ±‚åˆ†æ
        var requirement = await _aiService.AnalyzeRequirement(userInput);
        
        // 2. æ¨¡æ¿åŒ¹é…
        var templates = await _templateEngine.MatchTemplates(requirement);
        
        // 3. ä»£ç ç”Ÿæˆ
        var code = await _codeGenerator.GenerateCode(requirement, templates.First());
        
        // 4. ä»£ç æ‰§è¡Œ
        var result = await _csharpRunner.ExecuteAsync(code);
        
        // 5. éªŒè¯ç»“æœ
        Assert.IsTrue(result.Success);
        Assert.IsNotNull(result.InstrumentData);
    }
}
```

#### **3. æ€§èƒ½æµ‹è¯•**
```csharp
[TestClass]
public class PerformanceTests
{
    [TestMethod]
    public async Task AIResponse_ShouldCompleteWithin5Seconds()
    {
        var stopwatch = Stopwatch.StartNew();
        
        var result = await _aiService.AnalyzeRequirement("æµ‹è¯•éœ€æ±‚");
        
        stopwatch.Stop();
        Assert.IsTrue(stopwatch.ElapsedMilliseconds < 5000);
    }
}
```

### è´¨é‡æŒ‡æ ‡

| è´¨é‡ç»´åº¦ | æŒ‡æ ‡ | ç›®æ ‡å€¼ | æµ‹è¯•æ–¹æ³• |
|---------|------|--------|----------|
| **åŠŸèƒ½æ­£ç¡®æ€§** | AIç†è§£å‡†ç¡®ç‡ | â‰¥90% | æ ‡å‡†æµ‹è¯•é›†éªŒè¯ |
| **æ€§èƒ½æŒ‡æ ‡** | å“åº”æ—¶é—´ | <5ç§’ | æ€§èƒ½æµ‹è¯• |
| **å¯é æ€§** | ç³»ç»Ÿå¯ç”¨æ€§ | â‰¥99.5% | ç¨³å®šæ€§æµ‹è¯• |
| **å®‰å…¨æ€§** | å®‰å…¨æ¼æ´ | 0ä¸ªé«˜å± | å®‰å…¨æ‰«æ |
| **ç”¨æˆ·ä½“éªŒ** | ç”¨æˆ·æ»¡æ„åº¦ | â‰¥4.5/5 | ç”¨æˆ·è°ƒç ” |

### ä»£ç è´¨é‡æ ‡å‡†

#### **ä»£ç å®¡æŸ¥æ¸…å•**
- [ ] ä»£ç ç¬¦åˆC#/.NETæœ€ä½³å®è·µ
- [ ] åŒ…å«å®Œæ•´çš„å•å…ƒæµ‹è¯•(è¦†ç›–ç‡â‰¥80%)
- [ ] é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•å®Œå–„
- [ ] APIæ–‡æ¡£å®Œæ•´
- [ ] æ€§èƒ½ç¬¦åˆè¦æ±‚
- [ ] å®‰å…¨å®¡æŸ¥é€šè¿‡

---

## ğŸ”§ è¿ç»´æ”¯æŒ

### ç›‘æ§æŒ‡æ ‡

#### **ä¸šåŠ¡ç›‘æ§**
```csharp
public class BusinessMetrics
{
    // AIæœåŠ¡ç›‘æ§
    public static readonly Counter AIRequestsTotal = Metrics
        .CreateCounter("ai_requests_total", "AI APIè¯·æ±‚æ€»æ•°");
        
    public static readonly Histogram AIResponseTime = Metrics
        .CreateHistogram("ai_response_duration_seconds", "AIå“åº”æ—¶é—´");
        
    public static readonly Gauge AIAccuracyRate = Metrics
        .CreateGauge("ai_accuracy_rate", "AIç†è§£å‡†ç¡®ç‡");
    
    // ä»£ç æ‰§è¡Œç›‘æ§  
    public static readonly Counter CodeExecutionsTotal = Metrics
        .CreateCounter("code_executions_total", "ä»£ç æ‰§è¡Œæ€»æ•°");
        
    public static readonly Histogram CodeExecutionDuration = Metrics
        .CreateHistogram("code_execution_duration_seconds", "ä»£ç æ‰§è¡Œæ—¶é—´");
        
    public static readonly Counter ExecutionErrorsTotal = Metrics
        .CreateCounter("execution_errors_total", "æ‰§è¡Œé”™è¯¯æ€»æ•°");
}
```

#### **ç³»ç»Ÿç›‘æ§**
- CPUä½¿ç”¨ç‡ < 70%
- å†…å­˜ä½¿ç”¨ç‡ < 80%  
- ç£ç›˜IO < 1000 IOPS
- ç½‘ç»œå»¶è¿Ÿ < 50ms
- Dockerå®¹å™¨å¥åº·çŠ¶æ€

### å‘Šè­¦é…ç½®

```yaml
# alerts.yml
groups:
- name: ai-platform-alerts
  rules:
  - alert: AIServiceHighLatency
    expr: ai_response_duration_seconds > 10
    for: 2m
    labels:
      severity: warning
    annotations:
      summary: "AIæœåŠ¡å“åº”æ—¶é—´è¿‡é•¿"
      
  - alert: CodeExecutionFailureRate
    expr: rate(execution_errors_total[5m]) > 0.1
    for: 5m
    labels:
      severity: critical
    annotations:
      summary: "ä»£ç æ‰§è¡Œå¤±è´¥ç‡è¿‡é«˜"
      
  - alert: SystemResourceHigh
    expr: cpu_usage > 0.8 or memory_usage > 0.9
    for: 3m
    labels:
      severity: warning
    annotations:
      summary: "ç³»ç»Ÿèµ„æºä½¿ç”¨ç‡è¿‡é«˜"
```

### æ•…éšœæ’é™¤æ‰‹å†Œ

#### **å¸¸è§é—®é¢˜å¤„ç†**

1. **AI APIè°ƒç”¨å¤±è´¥**
   ```bash
   # æ£€æŸ¥APIå¯†é’¥
   curl -H "Authorization: Bearer $DEEPSEEK_API_KEY" https://api.deepseek.com/v1/models
   
   # æ£€æŸ¥ç½‘ç»œè¿é€šæ€§
   ping api.deepseek.com
   
   # æŸ¥çœ‹æœåŠ¡æ—¥å¿—
   docker logs seesharp-backend
   ```

2. **C# Runneræ‰§è¡Œè¶…æ—¶**
   ```bash
   # æ£€æŸ¥å®¹å™¨çŠ¶æ€
   docker ps | grep csharp-runner
   
   # é‡å¯Workerå®¹å™¨
   docker-compose restart csharp-runner-worker
   
   # æŸ¥çœ‹æ‰§è¡Œæ—¥å¿—
   docker logs csharp-runner-worker
   ```

3. **æ¨¡æ¿åŒ¹é…ä¸å‡†ç¡®**
   ```bash
   # é‡å»ºæ¨¡æ¿ç´¢å¼•
   curl -X POST http://localhost:5001/api/templates/rebuild-index
   
   # éªŒè¯æ¨¡æ¿æ•°æ®
   curl http://localhost:5001/api/templates/validate
   ```

---

## ğŸ‘¥ å›¢é˜Ÿåä½œ

### è§’è‰²åˆ†å·¥

| è§’è‰² | èŒè´£ | ä¸»è¦æŠ€èƒ½ |
|------|------|----------|
| **AIå·¥ç¨‹å¸ˆ** | AIæœåŠ¡é›†æˆã€æ¨¡å‹ä¼˜åŒ– | Python/C#, NLP, ML |
| **åç«¯å·¥ç¨‹å¸ˆ** | APIå¼€å‘ã€æ•°æ®å¤„ç† | C#, .NET, æ•°æ®åº“ |
| **å‰ç«¯å·¥ç¨‹å¸ˆ** | UI/UXã€æ•°æ®å¯è§†åŒ– | Vue3, TypeScript, ECharts |
| **æµ‹è¯•å·¥ç¨‹å¸ˆ** | è´¨é‡ä¿è¯ã€è‡ªåŠ¨åŒ–æµ‹è¯• | æµ‹è¯•æ¡†æ¶, CI/CD |
| **è¿ç»´å·¥ç¨‹å¸ˆ** | éƒ¨ç½²ã€ç›‘æ§ã€è¿ç»´ | Docker, K8s, ç›‘æ§å·¥å…· |
| **äº§å“ç»ç†** | éœ€æ±‚ç®¡ç†ã€ç”¨æˆ·ä½“éªŒ | äº§å“è®¾è®¡, ç”¨æˆ·ç ”ç©¶ |

### å¼€å‘æµç¨‹

#### **æ•æ·å¼€å‘æµç¨‹**
```
Sprint Planning (2å‘¨) â†’ Daily Standup â†’ Development â†’ Code Review â†’ Testing â†’ Sprint Review â†’ Retrospective
```

#### **ä»£ç ç®¡ç†æµç¨‹**
```
Feature Branch â†’ Pull Request â†’ Code Review â†’ CI/CD â†’ Staging â†’ Production
```

### æ²Ÿé€šåä½œ

#### **ä¼šè®®å®‰æ’**
- **Daily Standup**: æ¯æ—¥ 9:30-9:45
- **Sprint Planning**: åŒå‘¨ä¸€ 9:00-11:00  
- **Sprint Review**: åŒå‘¨äº” 14:00-15:00
- **æŠ€æœ¯åˆ†äº«**: æ¯å‘¨ä¸‰ 16:00-17:00

#### **åä½œå·¥å…·**
- **ä»£ç ç®¡ç†**: GitHub
- **é¡¹ç›®ç®¡ç†**: Jira/Azure DevOps
- **æ–‡æ¡£åä½œ**: Confluence/Notion
- **å³æ—¶é€šè®¯**: ä¼å¾®/é’‰é’‰

---

## âš ï¸ é£é™©ç®¡æ§

### æŠ€æœ¯é£é™©

#### **1. AI APIä¾èµ–é£é™©**
**é£é™©æè¿°**: AIæœåŠ¡æä¾›å•†APIä¸ç¨³å®šæˆ–è´¹ç”¨ä¸Šæ¶¨

**åº”å¯¹ç­–ç•¥**:
- å¤šAPIæä¾›å•†ç­–ç•¥ (DeepSeek + Claude)
- æœ¬åœ°æ¨¡å‹å¤‡é€‰æ–¹æ¡ˆ
- APIè°ƒç”¨ç¼“å­˜å’Œé™çº§æœºåˆ¶
- è´¹ç”¨é¢„ç®—æ§åˆ¶å’Œå‘Šè­¦

#### **2. ä»£ç æ‰§è¡Œå®‰å…¨é£é™©**  
**é£é™©æè¿°**: æ¶æ„ä»£ç æ³¨å…¥æˆ–ç³»ç»Ÿæ”»å‡»

**åº”å¯¹ç­–ç•¥**:
- Dockerå®¹å™¨å®Œå…¨éš”ç¦»
- ä»£ç é™æ€åˆ†æå’Œå±é™©æ“ä½œæ£€æµ‹
- èµ„æºä½¿ç”¨ä¸¥æ ¼é™åˆ¶
- å®‰å…¨å®¡è®¡å’Œæ—¥å¿—ç›‘æ§

#### **3. æ€§èƒ½å’Œæ‰©å±•æ€§é£é™©**
**é£é™©æè¿°**: ç”¨æˆ·é‡å¢é•¿å¯¼è‡´æ€§èƒ½ç“¶é¢ˆ

**åº”å¯¹ç­–ç•¥**:
- å¾®æœåŠ¡æ¶æ„æ”¯æŒæ°´å¹³æ‰©å±•
- ç¼“å­˜ç­–ç•¥å’Œæ•°æ®åº“ä¼˜åŒ–
- è´Ÿè½½å‡è¡¡å’Œè‡ªåŠ¨æ‰©ç¼©å®¹
- æ€§èƒ½ç›‘æ§å’Œå®¹é‡è§„åˆ’

### é¡¹ç›®é£é™©

#### **1. å¼€å‘è¿›åº¦é£é™©**
**é£é™©æè¿°**: å¼€å‘ä»»åŠ¡å¤æ‚åº¦è¶…å‡ºé¢„æœŸ

**åº”å¯¹ç­–ç•¥**:
- MVPä¼˜å…ˆï¼Œåˆ†é˜¶æ®µäº¤ä»˜
- ä»»åŠ¡åˆ†è§£å’Œè¿›åº¦è·Ÿè¸ª
- é£é™©è¯†åˆ«å’Œæå‰é¢„è­¦
- èµ„æºçµæ´»è°ƒé…

#### **2. ç”¨æˆ·æ¥å—åº¦é£é™©**
**é£é™©æè¿°**: ç”¨æˆ·å¯¹AIç”Ÿæˆä»£ç ä¿¡ä»»åº¦ä¸è¶³

**åº”å¯¹ç­–ç•¥**:
- æ¸è¿›å¼åŠŸèƒ½å‘å¸ƒ
- ç”¨æˆ·åŸ¹è®­å’Œæ–‡æ¡£æ”¯æŒ
- åé¦ˆæ”¶é›†å’Œå¿«é€Ÿè¿­ä»£
- æˆåŠŸæ¡ˆä¾‹å®£ä¼ 

### é£é™©ç›‘æ§æŒ‡æ ‡

| é£é™©ç±»å‹ | ç›‘æ§æŒ‡æ ‡ | é¢„è­¦é˜ˆå€¼ | åº”å¯¹æªæ–½ |
|---------|----------|----------|----------|
| **APIé£é™©** | è°ƒç”¨å¤±è´¥ç‡ | >5% | åˆ‡æ¢å¤‡ç”¨API |
| **å®‰å…¨é£é™©** | å¼‚å¸¸è¡Œä¸ºæ£€æµ‹ | >0 | ç«‹å³é˜»æ–­ |
| **æ€§èƒ½é£é™©** | å“åº”æ—¶é—´ | >10ç§’ | æ‰©å®¹å¤„ç† |
| **è¿›åº¦é£é™©** | ä»»åŠ¡å®Œæˆç‡ | <80% | èµ„æºè°ƒé… |

---

## ğŸ“ˆ é¡¹ç›®é‡Œç¨‹ç¢‘

### å…³é”®æ—¶é—´èŠ‚ç‚¹

| é‡Œç¨‹ç¢‘ | æ—¶é—´ | ä¸»è¦äº¤ä»˜ç‰© | éªŒæ”¶æ ‡å‡† |
|--------|------|------------|----------|
| **M1: AIåŸºç¡€æœåŠ¡** | Week 4 | éœ€æ±‚ç†è§£+æ¨¡æ¿åŒ¹é… | AIç†è§£å‡†ç¡®ç‡â‰¥85% |
| **M2: ä»£ç ç”ŸæˆæœåŠ¡** | Week 8 | æ™ºèƒ½ä»£ç ç”Ÿæˆ | ä»£ç ç”ŸæˆæˆåŠŸç‡â‰¥90% |
| **M3: å‰ç«¯AIç•Œé¢** | Week 11 | AIå¯¹è¯ç•Œé¢ | ç”¨æˆ·ä½“éªŒæ»¡æ„åº¦â‰¥4.0/5 |
| **M4: ç³»ç»Ÿé›†æˆ** | Week 14 | ç«¯åˆ°ç«¯åŠŸèƒ½ | å®Œæ•´å·¥ä½œæµç¨‹<30ç§’ |
| **M5: ç”Ÿäº§å°±ç»ª** | Week 16 | æ€§èƒ½ä¼˜åŒ–+å®‰å…¨åŠ å›º | æ€§èƒ½+å®‰å…¨æŒ‡æ ‡è¾¾æ ‡ |

### ç‰ˆæœ¬å‘å¸ƒè®¡åˆ’

#### **v1.0 (MVPç‰ˆæœ¬)**
- æ ¸å¿ƒAIåŠŸèƒ½ (éœ€æ±‚ç†è§£+ä»£ç ç”Ÿæˆ)
- åŸºç¡€UIç•Œé¢
- ä¸»è¦æµ‹è¯•åœºæ™¯æ”¯æŒ (æŒ¯åŠ¨+ç”µæ°”+æ¸©åº¦)

#### **v1.1 (åŠŸèƒ½å¢å¼º)**  
- æ›´å¤šè®¾å¤‡æ”¯æŒ
- ä¼˜åŒ–AIå‡†ç¡®ç‡
- ç”¨æˆ·ä½“éªŒæ”¹è¿›

#### **v1.2 (æ€§èƒ½ä¼˜åŒ–)**
- ç³»ç»Ÿæ€§èƒ½è°ƒä¼˜
- å¹¶å‘å¤„ç†èƒ½åŠ›æå‡
- ç›‘æ§å‘Šè­¦å®Œå–„

#### **v2.0 (å¹³å°åŒ–)**
- å¤šç§Ÿæˆ·æ”¯æŒ
- æ’ä»¶ç”Ÿæ€
- äº‘åŸç”Ÿéƒ¨ç½²

### æˆåŠŸæ ‡å‡†

#### **æŠ€æœ¯æŒ‡æ ‡**
- [ ] AIç†è§£å‡†ç¡®ç‡ â‰¥ 90%
- [ ] ä»£ç ç”Ÿæˆé€Ÿåº¦ < 5ç§’
- [ ] ç³»ç»Ÿå¯ç”¨æ€§ â‰¥ 99.5%
- [ ] ç”¨æˆ·ä½“éªŒæ—¶é—´ < 30ç§’

#### **ä¸šåŠ¡æŒ‡æ ‡**  
- [ ] ç”¨æˆ·æ»¡æ„åº¦ â‰¥ 4.5/5
- [ ] æœˆæ´»è·ƒç”¨æˆ· â‰¥ 100
- [ ] ä»£ç æ‰§è¡ŒæˆåŠŸç‡ â‰¥ 95%
- [ ] å®¢æˆ·ç•™å­˜ç‡ â‰¥ 80%

---

## ğŸ“š é™„å½•

### å‚è€ƒæ–‡æ¡£
- [C# Runner MCP é›†æˆæ–¹æ¡ˆ](./CSHARP_RUNNER_INTEGRATION_PLAN.md)
- [SeeSharpTools æ¶æ„æ–‡æ¡£](./ARCHITECTURE.md)
- [AI API é›†æˆæŒ‡å—](./AI_API_INTEGRATION.md)

### æŠ€æœ¯è§„èŒƒ
- [ä»£ç è§„èŒƒ](./CODE_STANDARDS.md)
- [API è®¾è®¡è§„èŒƒ](./API_DESIGN.md)
- [æ•°æ®åº“è®¾è®¡è§„èŒƒ](./DATABASE_DESIGN.md)

### ç‰ˆæœ¬å†å²
- v1.0 (2025-08-01): åˆå§‹ç‰ˆæœ¬åˆ›å»º
- v1.1 (TBD): ç¬¬ä¸€æ¬¡é‡Œç¨‹ç¢‘åæ›´æ–°

---

**æ–‡æ¡£ç»´æŠ¤**: æœ¬æ–‡æ¡£å°†éšé¡¹ç›®è¿›å±•æŒç»­æ›´æ–°ï¼Œæ¯ä¸ªé‡Œç¨‹ç¢‘åè¿›è¡Œç‰ˆæœ¬æ›´æ–°ã€‚

**è”ç³»æ–¹å¼**: å¦‚æœ‰ç–‘é—®è¯·è”ç³»é¡¹ç›®ç»„ seesharptools@jingyi.com.cn
